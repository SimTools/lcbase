#!/bin/bash

# ---------------------------------------------
has_pythia5()
{
  if [ -f $ROOTSYS/lib/libEGPythia.so ] ; then 
	echo "jsfpythia5"
  fi
}

# ---------------------------------------------
lciolib()
{
  if [ "X$LCIO" != "X" ] ; then
	echo " -L$LCIO/lib -L$LCIO/sio/lib -llcio -lsio -lz"
  fi
}  

# ---------------------------------------------
print_help()
{
cat <<EOF
 jsf-config [options]
 options = --has_pythia5  --lciolib  --help
           --cflags --bindir --libdir --incidr --fc
EOF
}

# ---------------------------------------------
cflags()
{
  if [ "X$JSFROOT" != "X" ] ; then 
	echo "-I$JSFROOT/include"
  fi
}

includes()
{
  incpath="-I. "
  if [ "X$JSFROOT" != "X" ] ; then
     incpath=" $incpath -I$JSFROOT/include "
  fi
  incpath=" $incpath -I$LCBASEDIR/include "
  echo $incpath
}

bindir()
{
  if [ "X$JSFROOT" != "X" ] ; then 
	echo "$JSFROOT/bin"
  fi
}

incdir()
{
  if [ "X$JSFROOT" != "X" ] ; then 
	echo "$JSFROOT/include"
  fi
}

libdir()
{
  if [ "X$JSFROOT" != "X" ] ; then 
	echo "$JSFROOT/lib"
  fi
}

tmpdir()
{
  if [ "X$JSFROOT" != "X" ] ; then 
	echo "$JSFROOT/tmp"
  fi
}

fc()
{
 if [ -f $LCBASEDIR/conf/config.data ] ; then
   if [ `grep -c "FC=" $LCBASEDIR/conf/config.data` != 0 ] ; then
     grep "FC=" $LCBASEDIR/conf/config.data | cut -d"=" -f2
   fi
 fi

}

# ---------------------------------------------
while [ $# -ne 0 ] 
do 
  case "$1" in 
    --has_pythia5) has_pythia5 ;; 
    --lciolib) lciolib ;;
    --help) print_help ;;
    --cflags) cflags ;;
    --includes) includes ;;
    --bindir) bindir ;;
    --incdir) incdir ;;
    --libdir) libdir ;;
    --tmpdir) tmpdir ;;
    --fc) fc ;;
    *)  print_help ;;
  esac
  shift
done

